


==========================================================
103.1 Trabajando en la línea de comandos
==========================================================
->Leccion 1 

EJERCICIOS GUIADOS 
	-Utilice el sistema man para determinar cómo decirle a apropos que envíe un comando breve para que solo envíe un mensaje corto de uso y luego salga.
	Ejecute man apropos y desplácese hacia abajo por la sección “Options” hasta llegar al párrafo --usage.

	-Utilice el sistema man para determinar qué licencia de copyright se asigna al comando grep.
	Ejecute man grep y desplácese hacia abajo a la sección “Copyright” del documento. Tenga en cuenta que el programa utiliza los derechos de autor de la Free Software Foundation


EJERCICIOS EXPLORATORIOS 
	-Identifique la arquitectura de hardware y la versión del kernel de Linux que se utiliza en su computadora en un formato de salida fácil de interpretar.
	Usamos uname -iv 

	-Imprima las últimas veinte líneas de la base de datos dinámica history y el archivo .bash_history para compararlos.
	podemos usar tail, cat bash_history | tail -n 20, son muy diferentes los arhcivos,

	-Utilice la herramienta apropos para identificar la página man donde encontrará el comando que necesitará para mostrar el tamaño de un dispositivo de bloque físico conectado en 
	 bytes en lugar de megabytes o gigabytes.
	Una forma sería ejecutar apropos con la cadena block, leer los resultados, observar que lsblk enumera los dispositivos de bloque (y, por lo tanto, sería la herramienta más adecuada para nuestras necesidades), ejecutar man lsblk, desplácese por la sección “Description” y observe que -b mostrará el tamaño del dispositivo en bytes. Finalmente, ejecute lsblk -b para visualizar la salida.
	$ apropos block
	$ man lsblk
	$ lsblk -b

->Leccion 2
EJERCICIOS GUIADOS 
	-Use el comando export para agregar un nuevo directorio a su ruta (este no debe sobrevivir a un reinicio).
	podemos hacer un ejemplo con la variable PATH, agregando un nuevo directorio, la linea de ejecucion, se veria como: export PATH="$PATH:/new/dir", si quieres que sea permanente, debes de agregarla al archivo ~/.bashrc o ~/.bash_profile 

	-Use el comando unset para eliminar la variable PATH. Intente ejecutar un comando (como sudo cat /etc/shadow) usando sudo. ¿Que pasó? ¿Por qué? (Al salir de su shell, volverá a su estado original).
	Es como si desaparecieran los comandos, Por que la variable PATH contiene el directorio en donde debe de buscar los comandos y al eliminarla, dejan de "existir"

EJERCICIOS EXPLORATORIOS 
	-Busque en Internet para encontrar y explorar la lista completa de caracteres especiales.
	Lista de ejemplo: & ; | * ? " ' [ ] ( ) $ < > { } # / \ ! ~

	-Intente ejecutar comandos usando cadenas formadas por caracteres especiales y usando varios métodos para escaparlos. ¿Hay diferencias entre la forma en que se comportan esos métodos?
	Escapar usando caracteres " conservará los valores especiales del signo de dólar, una barra invertida y la barra invertida. Escapar usando un carácter ' hará que todos los caracteres sean literales.
	$ echo "$mynewvar"
	goodbye
	$ echo '$mynewvar'
	$mynewvar



==========================================================
103.2 Pricesosar secuecnias de texto usando fltros
==========================================================
EJERCICIOS  GUIADOS
	-Alguien acaba de donar una computadora portátil a su escuela y ahora desea instalar Linux en ella. No hay manual y se vio obligado a arrancarlo desde una unidad de memoria USB sin gráficos en absoluto. Obtiene acceso a un terminal de shell y se conoce, para cada procesador que tenga, habrá una línea para él en el archivo /proc/cpuinfo:
	processor	: 0
	vendor_id	: GenuineIntel
	cpu family	: 6
	model		: 158
	
	(líneas saltadas)

	processor	: 1
	vendor_id	: GenuineIntel
	cpu family	: 6
	model		: 158

	(se saltaron más líneas)
	Usando los comandos grep y wc muestre cuántos procesadores tiene.  --> grep "processor" /proc/cpuinfo | wc -l   o cat /proc/cpuinfo | grep processor | wc -l
	Haga lo mismo con sed en lugar de grep.  --> sed "/processor/p" < /proc/cpuinfo | wc -l 


	-Explore su archivo local /etc/passwd con los comandos grep, sed, head y tail según las siguientes tareas:
	¿Qué usuarios tienen acceso a un shell Bash?  --> cat /etc/passwd | grep "/bin/bash" | wc -l    o  sed -n "/\/bin\/bash/p" < /etc/passwd 
	Su sistema tiene varios usuarios que existen para manejar programas específicos o para fines administrativos. No tienen acceso a un shell. ¿Cuántos de esos existen en su sistema?  --> grep "nologin" $file | wc -l o sed -n "/nologin/p" $file | wc -l  oo  grep -v ":/bin/bash$" $file | wc -l
	¿Cuántos usuarios y grupos existen en su sistema (recuerde: use solo el archivo /etc/passwd)? --> cut -d ":" -f 3 $file | sort -un  | wc -l  y para los grupos seria cut -d ":" -f 4 $file | sort -un  | wc -l
	Muestre solo la primera línea, la última línea y la décima línea de su archivo /etc/passwd. head -n1  $file, tail -n1  $file, sed -n "10p" $file


	-Considere este ejemplo de archivo /etc/passwd. Copie las líneas siguientes en un archivo local llamado mypasswd para este ejercicio.
	root:x:0:0:root:/root:/bin/bash
	daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
	bin:x:2:2:bin:/bin:/usr/sbin/nologin
	sys:x:3:3:sys:/dev:/usr/sbin/nologin
	sync:x:4:65534:sync:/bin:/bin/sync
	nvidia-persistenced:x:121:128:NVIDIA Persistence Daemon,,,:/nonexistent:/sbin/nologin
	libvirt-qemu:x:64055:130:Libvirt Qemu,,,:/var/lib/libvirt:/usr/sbin/nologin
	libvirt-dnsmasq:x:122:133:Libvirt Dnsmasq,,,:/var/lib/libvirt/dnsmasq:/usr/sbin/nologin
	carol:x:1000:2000:Carol Smith,Finance,,,Main Office:/home/carol:/bin/bash
	dave:x:1001:1000:Dave Edwards,Finance,,,Main Office:/home/dave:/bin/ksh
	emma:x:1002:1000:Emma Jones,Finance,,,Main Office:/home/emma:/bin/bash
	frank:x:1003:1000:Frank Cassidy,Finance,,,Main Office:/home/frank:/bin/bash
	frank:x:1003:1000:Frank Cassidy,Finance,,,Main Office:/home/frank:/bin/bash
	grace:x:1004:1000:Grace Kearns,Engineering,,,Main Office:/home/grace:/bin/ksh
	grace:x:1004:1000:Grace Kearns,Engineering,,,Main Office:/home/grace:/bin/ksh
	henry:x:1005:1000:Henry Adams,Sales,,,Main Office:/home/henry:/bin/bash
	henry:x:1005:1000:Henry Adams,Sales,,,Main Office:/home/henry:/bin/bash
	john:x:1006:1000:John Chapel,Sales,,,Main Office:/home/john:/bin/bash
	john:x:1006:1000:John Chapel,Sales,,,Main Office:/home/john:/bin/bash

    Liste todos los usuarios en el grupo 1000 (use sed para seleccionar solo el campo apropiado) de su archivo mypasswd.
	sed -n "/1000:[A-Z]/p" passwd 

    Liste solo los nombres completos de todos los usuarios de este grupo (use sed y cut)
	sed -n "/Main Office/p" passwd | cut -d "," -f 1 | cut -d ":" -f5


EJERCICIOS EXPLORATORIOS
	-Una vez más, utilizando el archivo mypasswd de los ejercicios anteriores, idee un comando Bash que seleccionará a una persona de la Oficina Principal para ganar un concurso de rifas. 
	Use el comando sed para imprimir solo las líneas de la Oficina Principal, y luego una secuencia de comando cut para recuperar el nombre de cada usuario de estas líneas. A continuación, 
	deseará ordenar aleatoriamente estos nombres y solo imprimir el nombre superior de la lista.
		sed -n "/Main Office/p" passwd | cut -d "," -f 1 | cut -d ":" -f5 | sort -R 

	-¿Cuántas personas trabajan en Finanzas, Ingeniería y Ventas? (Considere explorar el comando uniq).
		 sed -n "/Main Office/p" passwd | cut -d ":" -f 5 | cut -d "," -f 2 | uniq -c 
	
	
	-Ahora desea preparar un archivo CSV (valores separados por comas) para poder importar fácilmente, desde el archivo mypasswd del ejemplo anterior, el archivo names.csv a LibreOffice. 
	El contenido del archivo tendrá el siguiente formato:
	First Name,Last Name,Position
	Carol,Smith,Finance
	...
	John,Chapel,Sales
	Consejo: Utilice los comandos sed, cut y paste para lograr los resultados deseados. Tenga en cuenta que la coma (,) será el delimitador de este archivo.
	Para este ejercicio, crearemos/ejecutaremos 4 passos, uno para nombres, otro para apellidos, otro para las posiciones y el ultimo lo juntaremos con el comando paste con la opcion -d que significa delimitador, entonces, nuestros pasos serian:
		1.- touch names && echo "Firs Name" > names && sed -n "/Main Office/p" passwd | cut -d ":" -f 5 | cut -d "," -f 1 | cut -d " " -f 1 >> names
		2.- touch lnames && echo "Last Name" > lnames && sed -n "/Main Office/p" passwd | cut -d ":" -f 5 | cut -d "," -f 1 | cut -d " " -f 2 >> lnames
		3.- touch position && echo "Position" > position  && sed -n "/Main Office/p" passwd | cut -d ":" -f 5 | cut -d "," -f 2 >> position
		4.- paste -d "," names lnames position	> names.csv
		

	-Supongamos que la hoja de cálculo names.csv creada en el ejercicio anterior es un archivo importante y queremos asegurarnos de que nadie lo manipulará desde el momento en que se 
	 lo enviamos a alguien y el momento en que nuestro destinatario lo recibe. ¿Cómo podemos asegurar la integridad de este archivo usando md5sum?
		Lo podemos hacer con varios tipos de hash como md5sum, sh256sum, etc
			sha512sum names.csv 
			sha256sum names.csv 
			md5sum names.csv  --> 2c1b307d6535cd0943a01b87c855e181

	-Te prometiste a ti mismo que leerías un libro clásico de 100 líneas por día y decidiste comenzar con Mariner y Mystic de Herman Melville. 
	 Diseñe un comando usando split que separe este libro en secciones de 100 líneas cada una. Para obtener el libro en formato de texto plano, búsquelo en https://www.gutenberg.org.
		split -l 100 -d pg50461-images.html  parte


	-Usando ls -l en el directorio /etc, ¿qué tipo de listado obtiene? Usando el comando cut en la salida del comando ls dado, 
	 ¿cómo mostraría solo los nombres de archivo? ¿Qué pasa con el nombre del archivo y el propietario de los archivos? Junto con los comandos ls -l y cut, utilice el 
	 comando tr para suprimir las apariciones múltiples de un espacio en un solo espacio para ayudar a formatear la salida con un comando cut.
	
	
	
	-Este ejercicio asume que está en una máquina real (no en una máquina virtual). También debe tener una memoria USB con usted. 
	 Revise las páginas del manual para el comando tail y descubra cómo seguir un archivo a medida que se le agrega texto. 
	 Mientras monitorea la salida de un comando tail en el archivo /var/log/syslog, inserte una memoria USB. 
	 Escriba el comando completo que usaría para obtener el Producto, el Fabricante y la cantidad total de almacenamiento de su memoria USB.




